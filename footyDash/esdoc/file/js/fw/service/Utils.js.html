<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../">
  <title data-ice="title">js/fw/service/Utils.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/main.js~App.html">App</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-app">app</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/controllers</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-TopNavbarController">TopNavbarController</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/directives</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/directives/AccordianDirective.js~AccordianDirective.html">AccordianDirective</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/directives/FooterDirective.js~FooterDirective.html">FooterDirective</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/directives/TopNavbarDirective.js~NavigationDirective.html">NavigationDirective</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-footerDirective">footerDirective</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-navigationDirective">navigationDirective</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/league_table</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/league_table/main.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/league_table/controller</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/league_table/controller/LeagueTableController.js~LeagueTableController.html">LeagueTableController</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/league_table/directives</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/league_table/directives/LeagueTableDirective.js~LeagueTableDirective.html">LeagueTableDirective</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-leagueTableDirective">leagueTableDirective</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/player_details</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/player_details/main.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/player_details/controller</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/player_details/controller/PlayerDetailsController.js~PlayerDetailsController.html">PlayerDetailsController</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/player_details/directives</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/player_details/directives/PlayerDetailsDirective.js~PlayerDetailsDirective.html">PlayerDetailsDirective</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/rss_feed</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/rss_feed/main.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-feature">feature</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/rss_feed/controller</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/rss_feed/controller/RssFeedController.js~RssFeedController.html">RssFeedController</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/rss_feed/directives</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/rss_feed/directives/RssFeedDirective.js~RssFeedDirective.html">RssFeedDirective</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/team_details</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/team_details/main.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-feature">feature</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/team_details/controller</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/team_details/controller/TeamDetailsController.js~TeamDetailsController.html">TeamDetailsController</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-teamDetailsController">teamDetailsController</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/team_details/directives</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/team_details/directives/TeamDetailsDirective.js~TeamDetailsDirective.html">TeamDetailsDirective</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/common/ui</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/ui/Accordian.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/ui/Footer.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/ui/RouteIndicator.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/common/ui/TopNavbar.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/home</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/home/main.js~Feature.html">Feature</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-feature">feature</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/home/controller</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/home/controller/HomeController.js~HomeController.html">HomeController</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">features/home/directives</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/features/home/directives/HomeDirective.js~HomeDirective.html">HomeDirective</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-homeDirective">homeDirective</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">fw/config</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/config/AppConfig.js~Configurator.html">Configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/config/NotifierConfig.js~Configurator.html">Configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/config/RouterConfig.js~Configurator.html">Configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/config/SSOConfig.js~Configurator.html">Configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configurator">configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configurator">configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configurator">configurator</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configurator">configurator</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">fw/init</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/init/Body.js~Initializer.html">Initializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/init/Header.js~Initializer.html">Initializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/init/Validator.js~Initializer.html">Initializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-initializer">initializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-initializer">initializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-initializer">initializer</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">fw/lib</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/lib/AppHttpResponseInterceptor.js~AppHttpResponseInterceptor.html">AppHttpResponseInterceptor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/lib/ConfiguratorBase.js~ConfiguratorBase.html">ConfiguratorBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/lib/FeatureBase.js~FeatureBase.html">FeatureBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/lib/InitBase.js~InitBase.html">InitBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/lib/ServiceBase.js~ServiceBase.html">ServiceBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-omit">omit</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-pluck">pluck</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-appHttpResponseInterceptor">appHttpResponseInterceptor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-configuratorBase">configuratorBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-featureBase">featureBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-initBase">initBase</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-serviceBase">serviceBase</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">fw/service</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/service/CustomFilters.js~CustomFilters.html">CustomFilters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/service/Events.js~Service.html">Service</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/service/FootballDataService.js~FootballDataService.html">FootballDataService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/service/RSSService.js~RSSService.html">RSSService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/js/fw/service/Utils.js~Service.html">Service</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-customFilters">customFilters</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-service">service</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-footballDataService">footballDataService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-rSSService">rSSService</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-service">service</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">js/fw/service/Utils.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/**
 *
 *  Defines `utils` service
 *
 *
 *  @author  Chip
 *  @date    January 6, 2015
 *
 */
&apos;use strict&apos;;
import ServiceBase from &apos;lib/ServiceBase&apos;;
import { isObject, lowercase } from &apos;angular&apos;;

class Service extends ServiceBase {
    constructor(features, app) {
        super(features, app);
    }
    /*@ngInject*/
    utils($q, $window, CONF) {
        this.base64ToString = function(str) {
            return decodeURIComponent(escape(atob(str)));
        };

        this.stringTobase64 = function(str) {
            return btoa(unescape(encodeURIComponent(str)));
        };

        this.formEncodedOpts = {
            headers: {
                &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded;charset=UTF-8&apos;
            },
            transformRequest: function(data) {
                // If this is not an object, defer to native stringification.
                if (!isObject(data)) {
                    return (!data ? &apos;&apos; : data.toString());
                }
                var buffer = [];
                // Serialize each key in the object.
                for (var name in data) {
                    if (!data.hasOwnProperty(name)) {
                        continue;
                    }
                    var value = data[name];
                    buffer.push(
                        encodeURIComponent(name) +
                        &apos;=&apos; +
                        encodeURIComponent(!value ? &apos;&apos; : value)
                    );
                }
                // Serialize the buffer and clean it up for transportation.
                return buffer
                    .join(&apos;&amp;&apos;)
                    .replace(/%20/g, &apos;+&apos;);
            }
        };

        this.stopEvent = function(e) {
            if (!e) {
                return;
            }
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            if (e.preventDefault) {
                e.preventDefault();
            }
        };

        this.getApi = function(path) {
            if (!path) {
                return CONF.api;
            }
            var newPath = path;
            if (path.indexOf(&apos;/&apos;) === 0) {
                newPath = path.substring(1);
            }
            if (CONF.api.lastIndexOf(&apos;/&apos;) === (CONF.api.length - 1)) {
                return CONF.api + newPath;
            }
            return CONF.api + &apos;/&apos; + newPath;
        };
		
        this.getExternalApi = function(path) {
            if (!path) {
                return CONF.externalApi;
            }
            var newPath = path;
            if (path.indexOf(&apos;/&apos;) === 0) {
                newPath = path.substring(1);
            }
            if (CONF.externalApi.lastIndexOf(&apos;/&apos;) === (CONF.externalApi.length - 1)) {
                return CONF.externalApi + newPath;
            }
            return CONF.externalApi + &apos;/&apos; + newPath;
        };		

        this.supportCanvas = !!($window.FileReader &amp;&amp; $window.CanvasRenderingContext2D);

        this.isFile = function(item) {
            return isObject(item) &amp;&amp; item instanceof $window.File;
        };

        this.isImage = function(file) {
            if (!file) {
                return false;
            }

            var type = &apos;|&apos; + lowercase(file.type.slice(file.type.lastIndexOf(&apos;/&apos;) + 1)) + &apos;|&apos;;
            return &apos;|jpg|png|jpeg|bmp|gif|&apos;.indexOf(type) !== -1;
        };
    }

    execute() {
       this.service(&apos;utils&apos;, this.utils);
    }
}

export default Service;
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
